{% extends "blog/base.html" %}

{% block title %}
    刪除文章：{{ article.title }} - Django 大冒險
{% endblock title %}

{% block blog_content %}
    <nav aria-label="breadcrumb" class="d-none d-md-block mb-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="{% url 'blog:article_list' %}">文章列表</a>
            </li>
            <li class="breadcrumb-item">
                <a href="{% url 'blog:article_detail' article_id=article.id %}">{{ article.title }}</a>
            </li>
            <li class="breadcrumb-item active">
                刪除確認
            </li>
        </ol>
    </nav>

    <div class="card border-danger">
        <div class="card-header bg-danger text-white">
            <h2 class="card-title mb-0">
                <i class="bi bi-exclamation-triangle-fill"></i>
                刪除確認
            </h2>
        </div>

        <div class="card-body">
            <div class="alert alert-danger" role="alert">
                <h5 class="alert-heading">
                    <i class="bi bi-exclamation-circle"></i>
                    警告：此操作無法復原！
                </h5>
                <p class="mb-0">
                    您確定要刪除這篇文章嗎？刪除後將無法恢復。
                </p>
            </div>

            <div class="card mb-3">
                <div class="card-body">
                    <h3 class="card-title h5">
                        {{ article.title }}
                    </h3>
                    <p class="card-text text-muted">
                        <i class="bi bi-person"></i>
                        作者：{{ article.author.name }}
                        <span class="ms-3">
                            <i class="bi bi-calendar"></i>
                            發布時間：{{ article.created_at|date:"Y-m-d H:i" }}
                        </span>
                    </p>
                    <div class="card-text">
                        {{ article.content|truncatewords:50|linebreaks }}
                    </div>
                </div>
            </div>

            <form method="post">
                {% csrf_token %}

                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-danger">
                        <i class="bi bi-trash"></i>
                        確認刪除
                    </button>

                    <a href="{% url 'blog:article_detail' article_id=article.id %}"
                       class="btn btn-secondary">
                        <i class="bi bi-x-circle"></i>
                        取消
                    </a>
                </div>
            </form>
        </div>
    </div>
{% endblock blog_content %}
